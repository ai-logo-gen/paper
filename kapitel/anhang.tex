\newpage
\appendix
\section{Appendix}

\subsection{Evaluated Hyperparameter Combinations for LoRA Training}\label{app:hyperpara_kombis}
\begin{lstlisting}[language=Python, caption={Python code defining the hyperparameter combinations for LoRA training}, label={lst:traing_hyperparams}]
HYPERPARAMETER_MAP = {
    # Attention-only modules
    "attn_rank4_lr1e-5":  {"lora_r": 4, "learning_rate": 1e-5, "lora_target_modules": "attn_only"},
    "attn_rank4_lr1e-4":  {"lora_r": 4, "learning_rate": 1e-4, "lora_target_modules": "attn_only"},
    "attn_rank8_lr1e-5":  {"lora_r": 8, "learning_rate": 1e-5, "lora_target_modules": "attn_only"},
    "attn_rank8_lr1e-4":  {"lora_r": 8, "learning_rate": 1e-4, "lora_target_modules": "attn_only"},
    "attn_rank16_lr1e-6": {"lora_r": 16, "learning_rate": 1e-6, "lora_target_modules": "attn_only"},
    "attn_rank16_lr1e-5": {"lora_r": 16, "learning_rate": 1e-5, "lora_target_modules": "attn_only"},
    "attn_rank16_lr1e-4": {"lora_r": 16, "learning_rate": 1e-4, "lora_target_modules": "attn_only"},
    "attn_rank32_lr1e-6": {"lora_r": 32, "learning_rate": 1e-6, "lora_target_modules": "attn_only"},
    "attn_rank32_lr1e-5": {"lora_r": 32, "learning_rate": 1e-5, "lora_target_modules": "attn_only"},
    "attn_rank32_lr1e-4": {"lora_r": 32, "learning_rate": 1e-4, "lora_target_modules": "attn_only"},

    # Extended modules (Attention + MLP)
    "ext_rank4_lr1e-5":   {"lora_r": 4, "learning_rate": 1e-5, "lora_target_modules": "extended"},
    "ext_rank4_lr1e-4":   {"lora_r": 4, "learning_rate": 1e-4, "lora_target_modules": "extended"},
    "ext_rank8_lr1e-5":   {"lora_r": 8, "learning_rate": 1e-5, "lora_target_modules": "extended"},
    "ext_rank8_lr1e-4":   {"lora_r": 8, "learning_rate": 1e-4, "lora_target_modules": "extended"},
    "ext_rank16_lr1e-6":  {"lora_r": 16, "learning_rate": 1e-6, "lora_target_modules": "extended"},
    "ext_rank16_lr1e-5":  {"lora_r": 16, "learning_rate": 1e-5, "lora_target_modules": "extended"},
    "ext_rank16_lr1e-4":  {"lora_r": 16, "learning_rate": 1e-4, "lora_target_modules": "extended"},
    "ext_rank32_lr1e-6":  {"lora_r": 32, "learning_rate": 1e-6, "lora_target_modules": "extended"},
    "ext_rank32_lr1e-5":  {"lora_r": 32, "learning_rate": 1e-5, "lora_target_modules": "extended"},
    "ext_rank32_lr1e-4":  {"lora_r": 32, "learning_rate": 1e-4, "lora_target_modules": "extended"},
}

LORA_TARGET_MODULES_MAP = {
    "attn_only": ["to_q", "to_k", "to_v"],
    "extended": ["to_q", "to_k", "to_v", "to_out.0", "proj_in", "proj_out"],
}
\end{lstlisting}
